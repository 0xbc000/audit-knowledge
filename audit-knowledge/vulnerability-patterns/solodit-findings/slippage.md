# Slippage Findings (Solodit)

> DEX slippage and MEV-related vulnerabilities

## Overview

| ID | Severity | Title | Platform |
|----|----------|-------|----------|
| SOL-006 | ðŸŸ  high | amountOutMinimum Set to 1 in Uniswap Swap | Code4rena |
| SOL-047 | ðŸŸ  high | deadline = block.timestamp in Swap | Sherlock |
| SOL-048 | ðŸŸ¡ medium | Multi-hop Slippage Accumulation | Code4rena |

---

## SOL-006: amountOutMinimum Set to 1 in Uniswap Swap

**Severity:** ðŸŸ  HIGH  
**Platform:** Code4rena  
**Protocol Type:** DeFi Protocol

### Description
Swap function sets amountOutMinimum to 1, effectively disabling slippage protection.

### Impact
MEV bots can sandwich every swap, extracting nearly 100% of value.

### Vulnerable Code
```solidity
ISwapRouter.ExactInputSingleParams memory params = ISwapRouter.ExactInputSingleParams({
    tokenIn: token,
    tokenOut: WETH,
    amountIn: amount,
    amountOutMinimum: 1,  // No protection!
    sqrtPriceLimitX96: 0
});
```

### Fix
```solidity
uint256 expectedOut = oracle.getPrice() * amount / 1e18;
uint256 minOut = expectedOut * 99 / 100;  // 1% slippage
params.amountOutMinimum = minOut;
```

---

## SOL-047: deadline = block.timestamp in Swap

**Severity:** ðŸŸ  HIGH  
**Platform:** Sherlock  
**Protocol Type:** DEX Aggregator

### Description
Setting deadline to block.timestamp means transaction can be held indefinitely.

### Impact
Pending transaction executed at unfavorable future price.

### Vulnerable Code
```solidity
router.swapExactTokensForTokens(
    amountIn,
    minOut,
    path,
    recipient,
    block.timestamp  // Always passes!
);
```

### Fix
```solidity
router.swapExactTokensForTokens(
    amountIn,
    minOut,
    path,
    recipient,
    block.timestamp + 300  // 5 minute deadline
);
```

---

## SOL-048: Multi-hop Slippage Accumulation

**Severity:** ðŸŸ¡ MEDIUM  
**Platform:** Code4rena  
**Protocol Type:** DEX Protocol

### Description
Slippage tolerance applied per-hop accumulates across path.

### Impact
Longer paths suffer more slippage than expected.

### Vulnerable Code
```solidity
// 3-hop path with 1% slippage each = ~3% total
// User expects 1%, loses 3%
```

### Fix
```solidity
// Apply total slippage budget across entire path
// Or use path-aware slippage calculation
```

---


*Imported from Solodit curated findings*
